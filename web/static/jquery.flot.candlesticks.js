(function(k){var s={series:{lines:{show:!1}}};k.plot.candlestick={};k.plot.plugins.push({init:function(l){function e(d,b,a,c){var q=null;if(!0===c.candlestick.show)for(var q=null,f=0;f<c.data.length;f++){var g,p,h;h=c.data[f];g=c.xaxis.p2c(h[0])-c.candlestick.barWidth/2;p=c.yaxis.p2c(h[3]);h=c.yaxis.p2c(h[4]);var e=g+c.candlestick.barWidth;(e>g?d>=g&&d<=e:d>=e&&d<=g)&&(h>p?b>=p&&b<=h:b>=h&&b<=p)&&(q=[a,f])}return q}function m(d,b,a,c){!0===b.candlestick.show&&(b.nearBy={findItem:e},b.nearBy.drawHover=
r)}function t(d,b,a){if(!0===a.candlestick.show){if("string"===typeof a.candlestick.lineWidth)a.candlestick.barWidth=parseInt(a.candlestick.lineWidth,0),a.nearBy.width=a.candlestick.barWidth;else{var c=a.xaxis.p2c(a.xaxis.min+a.candlestick.lineWidth)-a.xaxis.p2c(a.xaxis.min);a.candlestick.barWidth=c;a.nearBy.width=a.candlestick.lineWidth}n=d.getPlotOffset();b.save();b.translate(n.left,n.top);for(d=0;d<a.data.length;d++)a.candlestick.drawCandlestick(b,a,a.data[d],!1);b.restore()}}function r(d,b,a){d.save();
b.candlestick.drawCandlestick(d,b,a.length?b.data[a[0]]:b.data[a],!0);d.restore()}var n=null;l.hooks.processOptions.push(function(d,b){b.series.candlestick.active&&(k.extend(!0,b,s),d.hooks.processRawData.push(m),d.hooks.drawSeries.push(t))})},options:{series:{candlestick:{active:!1,show:!1,rangeWidth:2,rangeColor:"rgb(128,128,128)",upColor:"#30af0c",downColor:"#ed2400",neutralColor:"rgb(200,200,200)",lineWidth:"8px",highlight:{opacity:.5},nearBy:{findItem:null},drawCandlestick:function(l,e,m,k){function r(b,
a,c){var d,f;d=a.xaxis.p2c(c[0]);f=a.yaxis.p2c(c[3]);c=a.yaxis.p2c(c[4]);b.lineWidth=a.candlestick.rangeWidth;b.beginPath();b.strokeStyle=a.candlestick.rangeColor;b.moveTo(d,f);b.lineTo(d,c);b.stroke()}function n(b,a,c){var d,f,g,e;d=a.xaxis.p2c(c[0]-a.candlestick.barWidth/2);f=a.yaxis.p2c(c[1]);g=a.yaxis.p2c(c[2]);e=c[1]>c[2]?a.candlestick.downColor:a.candlestick.upColor;c[1]==c[2]&&(e=a.candlestick.neutralColor,g=f+2);b.beginPath();b.strokeStyle=e;b.lineWidth=a.candlestick.barWidth;b.moveTo(d,f);
b.lineTo(d,g);b.stroke()}function d(b,a,c,d){var f,e;f=a.xaxis.p2c(c[0]-a.candlestick.barWidth/2);e=a.yaxis.p2c(c[3]);c=a.yaxis.p2c(c[4]);b.beginPath();b.strokeStyle=d;b.lineWidth=a.candlestick.barWidth;b.moveTo(f,e);b.lineTo(f,c);b.stroke()}!0===k?d(l,e,m,"rgba(255,255,255,"+e.candlestick.highlight.opacity+")"):(r(l,e,m),n(l,e,m))}}}},name:"candlestick",version:"0.3"})})(jQuery);
