$(function(){function l(b){return.001>b?(1E6*b).toPrecision(3)+" \u00b5\u0243":1>b?(1E3*b).toPrecision(5)+" m\u0243":b.toString()+" \u0243"}function p(b){g=0;if(h){if(1!=b.f)return;k=jQuery.makeArray(b.data);h=!1}else if(0==b.f){new_data=jQuery.makeArray(b.data);var a=new_data[0].stats,d=k[0].stats;if(0<d.length&&(d.pop(),0<d.length)){var e=d.pop();e[0]!=a[0][0]&&(0<d.length&&7200<e[1]-d[0][1]&&d.shift(),d.push(e))}d.push(a[0]);1<a.length&&d.push(a[1])}coinorama_ticks_updateNetwork(jQuery.makeArray(b.ticks));
b=!1;a=k[0].stats;if(null!=a){m!=a[a.length-1][0]&&(b=!0);m=a[a.length-1][0];var d=$("div#blocks_last"),c;c='<table class="blocks_table"><colgroup><col/><col/><col/><col/><col/><col/></colgroup><tr style="font-weight:bold"><td>ID</td><td>Date</td><td>Difficulty</td><td>Mining Time</td><td>Size</td><td>Nb. Tx</td><td>Volume</td><td>Fees</td></tr>';for(e=a.length-1;1<e;--e){var f=(new Date).getTime()/1E3;c+="<tr><td>"+a[e][0]+"</td>";c+="<td>"+formatTickDuration(f-a[e][1])+" ago</td>";c+="<td>"+a[e][2].toExponential(1)+
"</td>";c+="<td>~ "+formatTickDurationRounded(a[e][12])+"</td>";f=a[e][4];f=1E3>f?f.toString()+" bytes":1E6>f?(f/1E3).toFixed(2)+" KB":1E9>f?(f/1E6).toFixed(2)+" MB":(f/1E9).toFixed(2)+" GB";c+="<td>"+f+"</td>";c+="<td>"+a[e][6]+"</td>";c+="<td>"+l(a[e][7])+"</td>";c+="<td>"+l(a[e][8])+"</td></tr>"}b&&d.css("opacity",0);d.empty();d.append(c+"</table>");b&&d.animate({opacity:1},500,"linear")}}function q(b,a,d){g+=1;3<g&&($("span#winmsg_title").text("Error"),$("div#winmsg_ctnt").html("Sorry, latest blockchain data could not be fetched.<br/>Just in case, please reload the page in a couple of minutes.<br/><br/>"),
windowShow("message"))}function n(){var b=[],a="/coinorama/data.bf";b.push("v=p");b.push("k=0");h&&b.push("f=1");0<b.length&&(a=a+"?"+b.join("&"));$.ajax({url:a,type:"GET",dataType:"json",success:p,error:q});network_timeout_id=setTimeout(n,3E4)}var h=!0,k=null,m=0,g=3;network_timeout_id=-1;"B"==coinorama_getCurrentSection()&&n()});
